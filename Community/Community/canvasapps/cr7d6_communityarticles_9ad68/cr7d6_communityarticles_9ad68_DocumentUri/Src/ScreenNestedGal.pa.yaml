# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  ScreenNestedGal:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
    Children:
      - con_Nested:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            Height: =758
            Width: =Parent.Width
          Children:
            - btn_initNestedGal:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  Color: =RGBA(255, 255, 255, 1)
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =RGBA(56, 96, 178, 1)
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =RGBA(255, 255, 255, 1)
                  HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                  OnSelect: |-
                    =ClearCollect(
                        col_Anime,
                        { AnimeID: 1, Anime: "Naruto" ,Director:"Hayato Date"},
                        { AnimeID: 2, Anime: "One Piece",Director:"Eiichiro Oda" }
                    );
                    ClearCollect(
                        col_Characters,
                        { CharID: 101, AnimeID: 1, CharName: "Naruto", NickName: "" },
                        { CharID: 102, AnimeID: 1, CharName: "Sasuke", NickName: "" },
                        { CharID: 103, AnimeID: 2, CharName: "Luffy", NickName: "" }
                    );
                  PressedBorderColor: =Self.Fill
                  PressedColor: =Self.Fill
                  PressedFill: =Self.Color
                  Text: ="Init"
                  X: =445
                  Y: =82
            - OuterGallery:
                Control: Gallery@2.15.0
                Variant: Vertical
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Height: =597
                  Items: =col_Anime
                  TemplateSize: =200
                  Width: =1214
                  X: =74
                  Y: =142
                Children:
                  - lbl_AnimeName:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        OnSelect: =Select(Parent)
                        Text: =ThisItem.Anime
                        Y: =6
                  - InnerGallery:
                      Control: Gallery@2.15.0
                      Variant: Vertical
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Height: =182
                        Items: =Filter(col_Characters, AnimeID = ThisItem.AnimeID)
                        TemplateSize: =62
                        Width: =894
                        X: =297
                        Y: =6
                      Children:
                        - lbl_CharacterName:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.CharName
                              X: =40
                        - txt_NickName:
                            Control: Classic/TextInput@2.3.2
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Default: =ThisItem.NickName
                              Font: =Font.'Open Sans'
                              HoverBorderColor: =RGBA(0, 18, 107, 1)
                              HoverFill: =RGBA(186, 202, 226, 1)
                              OnSelect: =Select(Parent)
                              X: =308
                  - btn_Patch:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =ColorFade(Self.Fill, -15%)
                        Color: =RGBA(255, 255, 255, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        Fill: =RGBA(56, 96, 178, 1)
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        OnSelect: |-
                          =ForAll(
                              InnerGallery.AllItems As I,
                              Patch(
                                  col_Characters,
                                  LookUp(
                                      col_Characters,
                                      CharID = I.CharID
                                  ),
                                  {
                                      AnimeID: I.AnimeID,
                                      CharName: I.CharName,
                                      NickName: I.txt_NickName.Text
                                  }
                              )
                          )
                        PressedBorderColor: =Self.Fill
                        PressedColor: =Self.Fill
                        PressedFill: =Self.Color
                        Visible: =false
                        X: =40
                        Y: =102
                  - timer_Patch:
                      Control: Timer@2.1.0
                      Properties:
                        BorderColor: =ColorFade(Self.Fill, -15%)
                        Color: =RGBA(255, 255, 255, 1)
                        DisabledBorderColor: =ColorFade(Self.BorderColor, 70%)
                        DisabledColor: =ColorFade(Self.Fill, 90%)
                        DisabledFill: =ColorFade(Self.Fill, 70%)
                        Duration: =4000
                        Fill: =RGBA(56, 96, 178, 1)
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        OnTimerEnd: |-
                          =Select(btn_Patch);
                          UpdateContext({lvar_timer: false});
                          Reset(Self)
                        PressedBorderColor: =Self.Fill
                        PressedColor: =Self.Fill
                        PressedFill: =Self.Color
                        Start: =lvar_timer
                        Visible: =false
                        X: =126
                        Y: =46
            - btn_RunTimer:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  Color: =RGBA(255, 255, 255, 1)
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =RGBA(56, 96, 178, 1)
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =RGBA(255, 255, 255, 1)
                  HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                  OnSelect: "=\r\n  \r\n    UpdateContext({lvar_timer:true})\r\n    \r\n\r\n"
                  PressedBorderColor: =Self.Fill
                  PressedColor: =Self.Fill
                  PressedFill: =Self.Color
                  Text: ="Submit"
                  X: =644
                  Y: =82
